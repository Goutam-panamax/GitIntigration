<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:mobifin="http://mobifin.io/schema/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">
  <bpmn2:process id="Process_1" isExecutable="false">
    <bpmn2:startEvent id="STARTEVENT_Event_1assn8q" name="Start" UID="STARTEVENT" BlockCategory="1" Task_Name="Start Event">
      <bpmn2:outgoing>Flow_1dtcpm9</bpmn2:outgoing>
    </bpmn2:startEvent>
    <mobifin:serviceTask id="GENERATEPASSWORD_Activity_0lc76ox" name="Generate the password" UID="GENERATEPASSWORD" BlockCategory="1" Task_Name="Generate Password" Description="Generate the password" LENGTH_GENERATEPASSWORD="8" OUTPUTPERSISTKEY_GENERATEPASSWORD="GeneratedPassword">
      <bpmn2:incoming>Flow_1dtcpm9</bpmn2:incoming>
      <bpmn2:outgoing>Flow_0shngny</bpmn2:outgoing>
    </mobifin:serviceTask>
    <mobifin:serviceTask id="ONBOARDUSER_Activity_1wuztex" name="Onboard customer" UID="ONBOARDUSER" BlockCategory="1" Task_Name="Onboard User" Description="Onboard customer" BUSINESSDEFINATION_ONBOARDUSER="CUSTOMER_QUICKBITE_DEMO_USD_QUICKBITE_TEST" USERIDENTIFIER_ONBOARDUSER="REQUEST.MobileNo" USERKYC_ONBOARDUSER="REQUEST.KYC" PASSWORD_ONBOARDUSER="RESPONSE.GeneratedPassword.output.password" OUTPUTPERSISTKEY_ONBOARDUSER="OnboardData">
      <bpmn2:incoming>Flow_0shngny</bpmn2:incoming>
      <bpmn2:outgoing>Flow_0p2k2ng</bpmn2:outgoing>
    </mobifin:serviceTask>
    <bpmn2:sequenceFlow id="Flow_1dtcpm9" sourceRef="STARTEVENT_Event_1assn8q" targetRef="GENERATEPASSWORD_Activity_0lc76ox" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <bpmn2:sequenceFlow id="Flow_0shngny" sourceRef="GENERATEPASSWORD_Activity_0lc76ox" targetRef="ONBOARDUSER_Activity_1wuztex" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <bpmn2:exclusiveGateway id="RULE_Gateway_01oi1p4" UID="RULE" BlockCategory="1" Task_Name="Rule">
      <bpmn2:incoming>Flow_0p2k2ng</bpmn2:incoming>
      <bpmn2:outgoing>Flow_09ll701</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_1aofzl3</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <mobifin:serviceTask id="PREPARENOTIFICATION_Activity_0f2f75p" name="Prepare email " UID="PREPARENOTIFICATION" BlockCategory="1" Task_Name="Prepare Notification" Description="Prepare email " NAME_PREPARENOTIFICATION="Quickbite Onboarding Notification" SUBJECT_PREPARENOTIFICATION="Your account created successfully" BODY_PREPARENOTIFICATION="Dear REQUEST.MobileNo,&#10;&#10;Your account created successfully.&#10;" RECEIVER_PREPARENOTIFICATION="REQUEST.EmailId" OUTPUTPERSISTKEY_PREPARENOTIFICATION="NotificationData">
      <bpmn2:incoming>Flow_0sminbq</bpmn2:incoming>
      <bpmn2:outgoing>Flow_0aygefc</bpmn2:outgoing>
    </mobifin:serviceTask>
    <mobifin:serviceTask id="SENDNOTIFICATION_Activity_03m9128" name="Send Email" UID="SENDNOTIFICATION" BlockCategory="1" Task_Name="Send Notification" Description="Send Email">
      <bpmn2:incoming>Flow_0aygefc</bpmn2:incoming>
      <bpmn2:outgoing>Flow_1hyjvb9</bpmn2:outgoing>
    </mobifin:serviceTask>
    <mobifin:serviceTask id="SENDRESPONSE_Activity_02kdisl" name="Success" UID="SENDRESPONSE" BlockCategory="1" Task_Name="Send Response" Description="Success" RESPONSECODE_SENDRESPONSE="200" RESPONSEMESSAGE_SENDRESPONSE="Your account created successfully">
      <bpmn2:incoming>Flow_1hyjvb9</bpmn2:incoming>
      <bpmn2:outgoing>Flow_157d9aw</bpmn2:outgoing>
    </mobifin:serviceTask>
    <mobifin:serviceTask id="SENDRESPONSE_Activity_1bb5oo0" name="Onboarding Fail" UID="SENDRESPONSE" BlockCategory="1" Task_Name="Send Response" Description="Onboarding Fail" RESPONSECODE_SENDRESPONSE="-100" RESPONSEMESSAGE_SENDRESPONSE="Onboarding failed">
      <bpmn2:incoming>Flow_09ll701</bpmn2:incoming>
      <bpmn2:outgoing>Flow_1aq8d0n</bpmn2:outgoing>
    </mobifin:serviceTask>
    <bpmn2:sequenceFlow id="Flow_0p2k2ng" sourceRef="ONBOARDUSER_Activity_1wuztex" targetRef="RULE_Gateway_01oi1p4" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <bpmn2:sequenceFlow id="Flow_09ll701" name="Onboard Fail" sourceRef="RULE_Gateway_01oi1p4" targetRef="SENDRESPONSE_Activity_1bb5oo0" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" PARAMETER_SEQUENCEFLOW="RESPONSE.OnboardData.response_code" Description="Onboard Fail" OPERATOR_SEQUENCEFLOW="&#60;" VALUE_SEQUENCEFLOW="0" />
    <bpmn2:sequenceFlow id="Flow_0aygefc" sourceRef="PREPARENOTIFICATION_Activity_0f2f75p" targetRef="SENDNOTIFICATION_Activity_03m9128" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <bpmn2:sequenceFlow id="Flow_1hyjvb9" sourceRef="SENDNOTIFICATION_Activity_03m9128" targetRef="SENDRESPONSE_Activity_02kdisl" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <mobifin:serviceTask id="APPLYCHARGE_Activity_0xffbz1" name="Signup Rewards" UID="APPLYCHARGE" BlockCategory="1" Task_Name="Apply Charge" Description="Signup Rewards" CHARGECATEGORY_APPLYCHARGE="CASHBACK_QUICKBITE_QUICKBITE_DEMO_USD" CHARGE_APPLYCHARGE="SIGNUP_REWARDS_QUICKBITE_QUICKBITE_DEMO_USD_QUICKBITE_TEST" CALCULATEDONVALUE_APPLYCHARGE="7" DEBITFROM_APPLYCHARGE="9999999999" SOURCEBALANCE_APPLYCHARGE="NEGATIVEEMONEY_QUICKBITE_DEMO_USD_QUICKBITE_TEST" CREDITTO_APPLYCHARGE="REQUEST.MobileNo" DESTINATIONBALANCE_APPLYCHARGE="EMONEY_QUICKBITE_DEMO_USD_QUICKBITE_TEST" OUTPUTPERSISTKEY_APPLYCHARGE="Rewards">
      <bpmn2:incoming>Flow_1aofzl3</bpmn2:incoming>
      <bpmn2:outgoing>Flow_18n1zbj</bpmn2:outgoing>
    </mobifin:serviceTask>
    <bpmn2:sequenceFlow id="Flow_1aofzl3" name="Onboard fail" sourceRef="RULE_Gateway_01oi1p4" targetRef="APPLYCHARGE_Activity_0xffbz1" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" PARAMETER_SEQUENCEFLOW="RESPONSE.OnboardData.response_code" Description="Onboard fail" OPERATOR_SEQUENCEFLOW="&#62;" VALUE_SEQUENCEFLOW="0" />
    <bpmn2:sequenceFlow id="Flow_18n1zbj" sourceRef="APPLYCHARGE_Activity_0xffbz1" targetRef="GETCOUNTER_Activity_0u7vsd6" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <bpmn2:endEvent id="ENDEVENT_Event_0hfulx7" name="End" UID="ENDEVENT" BlockCategory="1" Task_Name="End Event">
      <bpmn2:incoming>Flow_1aq8d0n</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:endEvent id="ENDEVENT_Event_16jop2r" name="End" UID="ENDEVENT" BlockCategory="1" Task_Name="End Event">
      <bpmn2:incoming>Flow_157d9aw</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="Flow_1aq8d0n" sourceRef="SENDRESPONSE_Activity_1bb5oo0" targetRef="ENDEVENT_Event_0hfulx7" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <bpmn2:sequenceFlow id="Flow_157d9aw" sourceRef="SENDRESPONSE_Activity_02kdisl" targetRef="ENDEVENT_Event_16jop2r" UID="SEQUENCEFLOW" BlockCategory="1" Task_Name="Sequence Flow" />
    <mobifin:serviceTask id="MONITORCOUNTER_Activity_1u93qky" name="Counter" UID="MONITORCOUNTER" BlockCategory="1" Task_Name="MonitorCounter" USERIDENTIFIER_MONITORCOUNTER="REQUEST.MobileNo" COUNTERUID_MONITORCOUNTER="QUICKBITE_TOTAL_CASHBACK_COUNTER_QUICKBITE_DEMO_USD_QUICKBITE_TEST" COUNTERVALUE_MONITORCOUNTER="7" OUTPUTPERSISTKEY_MONITORCOUNTER="CashbackCounter" Description="Counter">
      <bpmn2:incoming>Flow_100tzm2</bpmn2:incoming>
      <bpmn2:outgoing>Flow_0sminbq</bpmn2:outgoing>
    </mobifin:serviceTask>
    <bpmn2:sequenceFlow id="Flow_0sminbq" sourceRef="MONITORCOUNTER_Activity_1u93qky" targetRef="PREPARENOTIFICATION_Activity_0f2f75p" />
    <mobifin:serviceTask id="GETCOUNTER_Activity_0u7vsd6" name="Get counter value" UID="GETCOUNTER" BlockCategory="1" Task_Name="Get Counter" Description="Get counter value" USERIDENTIFIER_GETCOUNTER="REQUEST.MobileNo" COUNTER_GETCOUNTER="QUICKBITE_TOTAL_CASHBACK_COUNTER_QUICKBITE_DEMO_USD_QUICKBITE_TEST" OUTPUTPERSISTKEY_GETCOUNTER="CashbackCounterData">
      <bpmn2:incoming>Flow_18n1zbj</bpmn2:incoming>
      <bpmn2:outgoing>Flow_100tzm2</bpmn2:outgoing>
    </mobifin:serviceTask>
    <bpmn2:sequenceFlow id="Flow_100tzm2" sourceRef="GETCOUNTER_Activity_0u7vsd6" targetRef="MONITORCOUNTER_Activity_1u93qky" />
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="Event_1assn8q_di" bpmnElement="STARTEVENT_Event_1assn8q">
        <dc:Bounds x="540" y="155" width="100" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="578" y="205" width="25" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0lc76ox_di" bpmnElement="GENERATEPASSWORD_Activity_0lc76ox">
        <dc:Bounds x="830" y="80" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1wuztex_di" bpmnElement="ONBOARDUSER_Activity_1wuztex">
        <dc:Bounds x="1240" y="90" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_01oi1p4_di" bpmnElement="RULE_Gateway_01oi1p4" isMarkerVisible="true">
        <dc:Bounds x="1770" y="100" width="120" height="120" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0f2f75p_di" bpmnElement="PREPARENOTIFICATION_Activity_0f2f75p">
        <dc:Bounds x="980" y="590" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03m9128_di" bpmnElement="SENDNOTIFICATION_Activity_03m9128">
        <dc:Bounds x="610" y="520" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_02kdisl_di" bpmnElement="SENDRESPONSE_Activity_02kdisl">
        <dc:Bounds x="160" y="520" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1bb5oo0_di" bpmnElement="SENDRESPONSE_Activity_1bb5oo0">
        <dc:Bounds x="2110" y="330" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xffbz1_di" bpmnElement="APPLYCHARGE_Activity_0xffbz1">
        <dc:Bounds x="2340" y="750" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0hfulx7_di" bpmnElement="ENDEVENT_Event_0hfulx7">
        <dc:Bounds x="2585" y="325" width="150" height="150" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_16jop2r_di" bpmnElement="ENDEVENT_Event_16jop2r">
        <dc:Bounds x="265" y="915" width="150" height="150" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1u93qky_di" bpmnElement="MONITORCOUNTER_Activity_1u93qky">
        <dc:Bounds x="1540" y="610" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0u7vsd6_di" bpmnElement="GETCOUNTER_Activity_0u7vsd6">
        <dc:Bounds x="1960" y="730" width="300" height="200" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1dtcpm9_di" bpmnElement="Flow_1dtcpm9">
        <di:waypoint x="640" y="180" />
        <di:waypoint x="830" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0shngny_di" bpmnElement="Flow_0shngny">
        <di:waypoint x="1130" y="180" />
        <di:waypoint x="1165" y="180" />
        <di:waypoint x="1165" y="190" />
        <di:waypoint x="1240" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p2k2ng_di" bpmnElement="Flow_0p2k2ng">
        <di:waypoint x="1540" y="190" />
        <di:waypoint x="1660" y="190" />
        <di:waypoint x="1660" y="160" />
        <di:waypoint x="1770" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09ll701_di" bpmnElement="Flow_09ll701">
        <di:waypoint x="1830" y="220" />
        <di:waypoint x="1830" y="430" />
        <di:waypoint x="2110" y="430" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1813" y="322" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0aygefc_di" bpmnElement="Flow_0aygefc">
        <di:waypoint x="980" y="690" />
        <di:waypoint x="945" y="690" />
        <di:waypoint x="945" y="620" />
        <di:waypoint x="910" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hyjvb9_di" bpmnElement="Flow_1hyjvb9">
        <di:waypoint x="610" y="620" />
        <di:waypoint x="460" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1aofzl3_di" bpmnElement="Flow_1aofzl3">
        <di:waypoint x="1830" y="220" />
        <di:waypoint x="1830" y="475" />
        <di:waypoint x="2490" y="475" />
        <di:waypoint x="2490" y="750" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2139" y="452" width="62" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18n1zbj_di" bpmnElement="Flow_18n1zbj">
        <di:waypoint x="2340" y="830" />
        <di:waypoint x="2260" y="830" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1aq8d0n_di" bpmnElement="Flow_1aq8d0n">
        <di:waypoint x="2410" y="430" />
        <di:waypoint x="2498" y="430" />
        <di:waypoint x="2498" y="400" />
        <di:waypoint x="2585" y="400" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_157d9aw_di" bpmnElement="Flow_157d9aw">
        <di:waypoint x="310" y="720" />
        <di:waypoint x="310" y="818" />
        <di:waypoint x="340" y="818" />
        <di:waypoint x="340" y="915" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sminbq_di" bpmnElement="Flow_0sminbq">
        <di:waypoint x="1690" y="610" />
        <di:waypoint x="1690" y="500" />
        <di:waypoint x="1130" y="500" />
        <di:waypoint x="1130" y="590" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_100tzm2_di" bpmnElement="Flow_100tzm2">
        <di:waypoint x="1960" y="830" />
        <di:waypoint x="1890" y="830" />
        <di:waypoint x="1890" y="740" />
        <di:waypoint x="1840" y="740" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>
